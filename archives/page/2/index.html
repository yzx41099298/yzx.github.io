<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Archives | Yzx Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Keep Writing">
<meta property="og:type" content="website">
<meta property="og:title" content="Yzx Blog">
<meta property="og:url" content="http://yzx41099298.github.io/archives/page/2/">
<meta property="og:site_name" content="Yzx Blog">
<meta property="og:description" content="Keep Writing">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Yzx Blog">
<meta name="twitter:description" content="Keep Writing">

  
    <link rel="alternative" href="/atom.xml" title="Yzx Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" href="/css/style.css" type="text/css">

  <script src="http://libs.baidu.com/jquery/1.9.0/jquery.js"></script>
</head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			<img src="http://tp4.sinaimg.cn/1562517007/180/5634444273/1">
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">yzx</a></h1>
		</hgroup>

		

		
			<div class="switch-btn">
				<div class="icon">
					<div class="icon-ctn">
						<div class="icon-wrap icon-house" data-idx="0">
							<div class="birdhouse"></div>
							<div class="birdhouse_holes"></div>
						</div>
						<div class="icon-wrap icon-ribbon hide" data-idx="1">
							<div class="ribbon"></div>
						</div>
						
						<div class="icon-wrap icon-link hide" data-idx="2">
							<div class="loopback_l"></div>
							<div class="loopback_r"></div>
						</div>
						
						
						<div class="icon-wrap icon-me hide" data-idx="3">
							<div class="user"></div>
							<div class="shoulder"></div>
						</div>
						
					</div>
					
				</div>
				<div class="tips-box hide">
					<div class="tips-arrow"></div>
					<ul class="tips-inner">
						<li>菜单</li>
						<li>标签</li>
						
						<li>友情链接</li>
						
						
						<li>关于我</li>
						
					</ul>
				</div>
			</div>
		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">主页</a></li>
				        
						</ul>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
								<a class="github" target="_blank" href="https://github.com/yzx41099298" title="github">github</a>
					        
								<a class="weibo" target="_blank" href="http://weibo.com/1562517007" title="weibo">weibo</a>
					        
						</div>
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						
					</div>
				</section>
				
				
				
				<section class="switch-part switch-part3">
					<div id="js-friends">
					
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://localhost:4000/">奥巴马的博客</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://localhost:4000/">卡卡的美丽传说</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://localhost:4000/">本泽马的博客</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://localhost:4000/">吉格斯的博客</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://localhost:4000/">习大大大不同</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://localhost:4000/">托蒂的博客</a>
			        
			        </div>
				</section>
				

				
				
				<section class="switch-part switch-part4">
				
					<div id="js-aboutme">一个屌丝Android程序猿</div>
				</section>
				
			</div>
		</div>
	</header>				
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide">yzx</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				<img src="http://tp4.sinaimg.cn/1562517007/180/5634444273/1">
				<hgroup>
				  <h1 class="header-author">yzx</h1>
				</hgroup>
			</div>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/yzx41099298" title="github">github</a>
			        
						<a class="weibo" target="_blank" href="http://weibo.com/1562517007" title="weibo">weibo</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>
      <div class="body-wrap">
  
    <article id="post-Fromhtml" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/03/11/Fromhtml/" class="article-date">
  	<time datetime="2015-03-11T09:58:35.000Z" itemprop="datePublished">2015-03-11</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/03/11/Fromhtml/">Html.fromhtml 方法支持的参数</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <table>
<thead>
<tr>
<th>Tags</th>
<th style="text-align:left">Format</th>
</tr>
</thead>
<tbody>
<tr>
<td>b, strong</td>
<td style="text-align:left">Bold</td>
</tr>
<tr>
<td>i, em, cite, dfn</td>
<td style="text-align:left">Italics</td>
</tr>
<tr>
<td>u</td>
<td style="text-align:left">Underline</td>
</tr>
<tr>
<td>sub</td>
<td style="text-align:left">Subtext</td>
</tr>
<tr>
<td>sup</td>
<td style="text-align:left">Supertext</td>
</tr>
<tr>
<td>big</td>
<td style="text-align:left">Big</td>
</tr>
<tr>
<td>small</td>
<td style="text-align:left">Small</td>
</tr>
<tr>
<td>tt</td>
<td style="text-align:left">Monospace</td>
</tr>
<tr>
<td>h1 … h6</td>
<td style="text-align:left">Headlines</td>
</tr>
<tr>
<td>img</td>
<td style="text-align:left">Image</td>
</tr>
<tr>
<td>font</td>
<td style="text-align:left">Font face and color</td>
</tr>
<tr>
<td>blockquote</td>
<td style="text-align:left">For longer quotes</td>
</tr>
<tr>
<td>a</td>
<td style="text-align:left">Link</td>
</tr>
<tr>
<td>div, p</td>
<td style="text-align:left">Paragraph</td>
</tr>
<tr>
<td>br</td>
<td style="text-align:left">Linefeed</td>
</tr>
</tbody>
</table>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>






  
    <article id="post-protobuf" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/03/11/protobuf/" class="article-date">
  	<time datetime="2015-03-11T09:56:39.000Z" itemprop="datePublished">2015-03-11</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/03/11/protobuf/">Protobuf Micro</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="Install:">Install:</h3>
<ol>
<li><p>Download protomicro at: <a href="https://code.google.com/p/micro-protobuf/" target="_blank" rel="external">https://code.google.com/p/micro-protobuf/</a></p>
</li>
<li><p>$ ./configure</p>
</li>
<li><p>$ make</p>
<p> If errors as below：<br> make[2]: <strong><em> [message.lo] Error 1<br> make[1]: </em></strong> [all-recursive] Error 1<br> make: <em>*</em> [all] Error 2</p>
<p> Add  “#include <istream>“ in src/google/protobuf/message.cc</istream></p>
</li>
<li><p>Create file protoc in /usr/local/bin/<br> $ make install</p>
</li>
</ol>
<h3 id="USAGE:">USAGE:</h3>
<ol>
<li><p>Define .proto file</p>
</li>
<li><p>Create a java class in out_dir.<br> $ /usr/local/bin/protoc —-javamicro_out=”our_dir” <em>*</em>.proto</p>
</li>
<li><p>Use the java class。 </p>
</li>
<li><p>Import com.google.protobuf.micro in micro-protobuf-read-only/java/src/main/java/。</p>
</li>
</ol>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>






  
    <article id="post-ActivityResult" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/03/11/ActivityResult/" class="article-date">
  	<time datetime="2015-03-11T09:53:17.000Z" itemprop="datePublished">2015-03-11</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/03/11/ActivityResult/">Activity being created twice, when back from camera Intent</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <ul>
<li><p>Android may choose to destroy an Activity that is waiting for the call to onActivityResult; especially when free memory is running low. Some devices appear more aggressive about destroying Activitys that are on the task stack. I can reliably recreate the issue on a Samsung device set to a debugging mode called “strict mode”.</p>
</li>
<li><p>You can verify whether this is your issue by logging calls to onCreate &amp; onDestroy.</p>
</li>
<li><p>In the case of a destroyed activity, when the activity result needs to be processed, Android will recreate the Activity, passing a savedInstanceState to onCreate. So, the remedy is to check the value of savedInstanceState in your GetImageActivity.onCreate. If it is not null then don’t make any calls to startActivity because your Activity is being recreated to call onActivityResult.</p>
</li>
</ul>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>






  
    <article id="post-ActionBarCompat" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/03/11/ActionBarCompat/" class="article-date">
  	<time datetime="2015-03-11T09:34:39.000Z" itemprop="datePublished">2015-03-11</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/03/11/ActionBarCompat/">ActionBarCompat</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <ul>
<li><p>有三种Theme：<br>  Theme.AppCompat 深色主题，继承自android:Theme<br>  Theme.AppCompat.Light 浅色主题，继承自android:Theme.Light<br>  Theme.AppCompat.Light.DarkActionBar 浅色主题，ActionBar是深色主题，继承自android:Theme.Light</p>
</li>
<li><p>可以使用ActionBarStyleGenerator开始进行自定义，不过功能有限，只能自定义背景色，图标和前景色通常还需要自行修改。另外这个站点生成的文件命名采用添加后缀的方式，不是很符合android的风格。</p>
</li>
<li><p>所有属性进行自定义时，需要同时添加android:xxx和xxx两项，前者v14+使用，后者v14-使用或者使用values和values-v14分别定义</p>
</li>
<li><p>ActionBar默认大小<br>  以Galaxy Nexus portrait模式为例<br>  高度：48dp(portrait), 40dp(landcape)<br>  右侧按钮宽度：56dp<br>  paddingLeft、paddingRight：12dp</p>
</li>
<li><p>自定义方式：修改Theme里的属性，或者actionBarWidgetTheme里面的属性<br>   如果属性是color/dimen/drawable，则可以直接设置<br>   如果属性是textAppearance/style，则还需要进一步定义，此时要注意该属性值需要继承自合适的类型<br>   某些dimen属性无法修改，可以通过修改图标大小的方式间接完成，例如想让up图标距离两侧的边距增大，就只能够修改up图标大小，让两侧的透明区域增大</p>
</li>
<li><p>ActionBar的自定义包括：</p>
</li>
</ul>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">ActionBar的自定义：背景、标题、进度条、按钮</div><div class="line">	actionBarStyle: &lt;&lt; <span class="filename">Widget.AppCompat.Light.ActionBar.Solid.Inverse</span></div><div class="line">          background/backgroundStacked/backgroundSplit: Drawable</div><div class="line">          titleTextStyle: &lt;&lt; <span class="filename">TextAppearance.AppCompat.Widget.ActionBar.Title.Inverse</span></div><div class="line">          subtitleTextStyle: &lt;&lt; <span class="filename">TextAppearance.AppCompat.Widget.ActionBar.Subtitle.Inverse</span></div><div class="line">          progressBarStyle: &lt;&lt; <span class="filename">Widget.AppCompat.ProgressBar.Horizontal</span></div><div class="line">          indeterminateProgressStyle: &lt;&lt; <span class="filename">Widget.AppCompat.ProgressBar</span></div><div class="line">          divider: &lt;&lt; Drawable</div><div class="line">          displayOptions:useLogo|showHome|homeAsUp|showTitle|showCustom</div><div class="line">	actionButtonStyle: &lt;&lt; <span class="filename">Widget.AppCompat.ActionButton</span></div><div class="line">          background: Drawable, 默认为?attr/actionBarItemBackground</div></pre></td></tr></table></figure>



<p>abc_action_menu_item_layout为布局文件，paddingLeft/Right为8，paddingTop/Bottom为4，不可修改，因此portrait模式下图标大小应该不超过40dp(56-2*8) x 40dp(48-2*4)，而landscape模式下由于action bar高度仅为40dp，因此图标大小不超过32dp x 32dp。所以通常做图标时取小的尺寸做成32dp x 32dp</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="attribute">actionOverflowButtonStyle</span>: <span class="string">&lt;&lt; Widget.AppCompat.ActionButton.Overflow</span></div><div class="line">	<span class="attribute">src</span>: <span class="string">Drawable</span></div></pre></td></tr></table></figure>

<p>使用OverflowMenuButton实现，没有使用布局资源，默认paddingLeft/Right为12，因此Overflow图标的建议大小为32dp(56-12*2) x 32dp    </p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line">homeAsUpIndicator: &lt;&lt; Drawable</div><div class="line">	actionBarSize: dimen 高度</div><div class="line">		  </div><div class="line">	ActionMode的自定义：背景，左侧对勾图标</div><div class="line">		actionModeBackground/actionModeSplitBackground: Drawable</div><div class="line">		actionModeCloseButtonStyle: &lt;&lt; Widget.AppCompat.ActionButton.CloseMode</div><div class="line">		actionModeCloseDrawable: Drawable</div><div class="line">               		</div><div class="line">	Spinner的样式: </div><div class="line">		actionBarWidgetTheme</div><div class="line">          actionDropDownStyle: &lt;&lt; Widget.AppCompat.Spinner.DropDown.ActionBar</div><div class="line">              background: Drawable</div><div class="line">              popupBackground: Drawable</div><div class="line">              dropDownSelector: Drawable</div><div class="line"></div><div class="line">	SpinnerItem的样式通过SpinnerAdapter的getView进行设置</div><div class="line"></div><div class="line">	OverflowMenu的样式：实现类MenuPopupHelper</div><div class="line">		     actionBarWidgetTheme</div><div class="line">		          popupMenuStyle</div><div class="line">		               popupBackground: Drawable</div><div class="line">		          dropDownListViewStyle</div><div class="line">		               listSelector: Drawable</div><div class="line">		               divider: Drawable</div><div class="line">     </div><div class="line">	OverflowMenu Item的样式: 高度、字体 (默认布局：abc_popup_menu_item_layout)</div><div class="line">		     actionBarWidgetTheme</div><div class="line">		          textAppearanceLargePopupMenu: &lt;&lt; TextAppearance.AppCompat.Widget.PopupMenu.Large</div><div class="line">		          dropdownListPreferredItemHeight: dimen</div></pre></td></tr></table></figure>

<ul>
<li>对ABC代码的修改：在2.x版本的系统上依旧显示Overflow Button：ActionBarPolicy#showsOverflowMenuButton，始终返回true</li>
</ul>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>






  
    <article id="post-listView" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/03/11/listView/" class="article-date">
  	<time datetime="2015-03-11T09:25:55.000Z" itemprop="datePublished">2015-03-11</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/03/11/listView/">优化listView</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <ol>
<li>Use the View Holder pattern</li>
<li>Do as little work as possible in getView()</li>
<li>Reduce unnecessary overdraw</li>
<li>Flatten the view hierarchy</li>
</ol>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>






  
    <article id="post-aop" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/03/11/aop/" class="article-date">
  	<time datetime="2015-03-11T08:54:35.000Z" itemprop="datePublished">2015-03-11</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/03/11/aop/">AOP</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>AOP即面向切面编程。AspectJ是AOP最早成熟的Java实现，它稍微扩展了一下Java语言，增加了一些Keyword:</p>
<ul>
<li>Aspect:用来定义切面，该切面可以包含多个切入点和通知，而且标签内部的通知和切入点定义是无序的</li>
<li>Pointcut:表示一个切入点或触发点，切入点支持的切入点指示符有几种，execution表示执行点，call表示调用点</li>
<li>execution：使用“execution(方法表达式)”匹配方法执行，方法表达式的格式（注解？ 修饰符? 返回值类型 类型声明?方法名(参数列表) 异常列表？）</li>
<li>Advice：Pointcut被触发，所产生相应的动作。Advice在AspectJ有三种：before、 after、Around（调用先后均执行）</li>
</ul>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>






  
    <article id="post-first-post" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/03/11/first-post/" class="article-date">
  	<time datetime="2015-03-11T08:42:26.000Z" itemprop="datePublished">2015-03-11</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/03/11/first-post/">“今天开始blog搬家了”</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>我是一名Android程序员，写此博客的目的有两点，第一方便记录知识，第二写着玩。</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>






  
  
    <nav id="page-nav">
      <a class="extend prev" rel="prev" href="/archives/">&laquo; Prev</a><a class="page-number" href="/archives/">1</a><span class="page-number current">2</span>
    </nav>
  
</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2015 yzx
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
</footer>
    </div>
    
  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">

  <script src="/fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>



<script src="/js/mobile.js" type="text/javascript"></script>

<script src="/js/main.js" type="text/javascript"></script>






<! -- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>



  </div>
</body>
</html>